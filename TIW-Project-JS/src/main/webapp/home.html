<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Aste Online</title>
		<!--<script type="module" src="js/functions.js" defer></script>--> <!--Questo import va solo nel main?-->
		<script type="module" src="js/main.js" defer></script>
	</head>
	<body>
		<a href="/TIW-Project/logout">Logout</a><br>
		<span id="moveToVendo" hidden>Vendo</span><br>
		<span id="moveToAcquisto" hidden>Acquisto</span><br>
		
		<div id="vendoPage" hidden>
		
			<h2>Le tue aste aperte</h2>
			<div id="listaAsteAperte">
				<table border="1">
					<thead>
						<tr>
							<th>IdAsta</th>
							<th>Prezzo iniziale</th>
							<th>Offerta Massima</th>
							<th>Data Scadenza</th>
							<th>Ora Scadenza</th>
							<th>Giorni Rimanenti</th>
							<th>Ore Rimanenti</th>
							<th>Articoli inclusi</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="bodyTabellaAsteAperte">
						<!-- qui vengono aggiunte tutte le aste aperte, secondo il template "astaApertaRow" -->					
					</tbody>
					
				</table>
				
				<template id="astaApertaRow">
					<tr>
						<!-- td con text = id asta -->
						<!-- td con text = prezzo iniziale asta -->
						<!-- td con text = offerta massima asta -->
						<!-- td con text = data scadenza asta -->
						<!-- td con text = ora scadenza asta -->
						<!-- td con text = giorni rimanenti -->
						<!-- td con text = ora rimanenti -->
						<!-- td  -->
							<!-- table -->
								<!-- tr -->
									<!-- td con text = codice articolo -->
									<!-- td con text = nome articolo -->
									<!-- td con text = prezzo articolo -->
								<!-- tr -->
							<!-- /table -->
						<!-- /td -->
						<!-- <td><button class="dettaglioAstaApertaButton">Dettaglio asta</button></td> <!-- va aggiunto value = id asta -->	
					</tr>
				</template>
			</div>
			
			<br>
			<h2>Le tue aste chiuse</h2>
			<div id="listaAsteChiuse">
				<table border="1" id="tabelleAsteChiuse">
					<thead>
						<tr>
							<th>IdAsta</th>
							<th>Prezzo iniziale</th>
							<th>Offerta Massima</th>
							<th>Data Scadenza</th>
							<th>Ora Scadenza</th>
						</tr>
					</thead>
					<tbody id="bodyTabellaAsteChiuse">
						<!-- qui vengono aggiunte tutte le aste chiuse, seguendo il template "astaChiusaRow" -->					
					</tbody>
				</table>
				
				<template id="astaChiusaRow">
					<tr>
						<!-- td con text = id asta -->
						<!-- td con text = prezzo iniziale asta -->
						<!-- td con text = offerta massima asta -->
						<!-- td con text = data scadenza asta -->
						<!-- td con text = ora scadenza asta -->
						<!-- <td><button class="dettaglioAstaChiusaButton">Dettaglio asta</button></td> <!-- va aggiunto value = id asta -->
					</tr>
				</template>
			</div>
			
			<br>
			<h2>Inserisci un nuovo articolo:</h2>
			<div id="newArticoloMessage"></div>
			<div id="formNuovoArticolo">
				<label for="nomeNewArticolo">Nome:</label>
				<input type="text" id="nomeNewArticolo"><br>
				
				<label for="descrizioneNewArticolo">Descrizione:</label>
				<input type="text" id="descrizioneNewArticolo"><br>
				
				<label for="immagineNewArticolo">Immagine:</label>
				<input type="file" id="immagineNewArticolo" accept="image/*"><br>
				
				<label for="prezzoNewArticolo">Prezzo (in €):</label>
				<input type="number" id="prezzoNewArticolo" min="0"><br>
				
				<button id="submitNewArticolo">Inserisci articolo</button>
			</div>
			
			<h2>Crea asta:</h2>
			<div id="newAstaMessage"></div>
			<div id="formNewAsta">
				<label for="rialzoMinimoNewAsta">Rialzo minimo (in €):</label>
				<input type="number" id="rialzoMinimoNewAsta" min="0.01" step="0.01"><br>
				
				<label for="dataScadenzaNewAsta">Data scadenza:</label>
				<input type="date" id="dataScadenzaNewAsta"><br>
				
				<label for="oraScadenzaNewAsta">Ora scadenza:</label>
				<input type="time" id="oraScadenzaNewAsta"><br>
				
				<table border="1" id="tabellaArticoliNewAsta">
					<thead>
						<tr>
							<th>Seleziona</th>
							<th>Id articolo</th>
							<th>Nome articolo</th>
							<th>Descrizione</th>
							<th>Prezzo</th>
						</tr>
					</thead>
					<tbody id="bodyTabellaArticoliNewAsta">
						<!-- qui vengono aggiunti tutti gli articoli selezionabili per una nuova asta, secondo il template "articoliSelezionabiliRow" -->				
					</tbody>
				</table>
				<button id="submitNewAsta">Inserisci Nuova Asta</button>
				
				<!-- template di una riga della tabella tabellaArticoliNewAsta -->
				<template id="articoliSelezionabiliRow">
					<tr>
						<td><input type="checkbox" name="codiceArticolo"></td>	<!-- value = codice articolo -->
						<!-- td con text = codice articolo -->
						<!-- td con text = nome articolo -->
						<!-- td con text = descrizione articolo -->
						<!-- td con text = prezzo articolo -->
					</tr>
				</template>
			</div>
		</div>
		
		
		
		
		<div id="acquistoPage" hidden>
			<h2>Inserisci una parola chiave:</h2>
			<div>
				<label for="parolaChiave">Parola chiave:</label>
				<input type="text" id="parolaChiave"><br>
				
				<button id="sumbitSearchByKeyword">Ricerca aste</button>
			</div>
		
			<div id="listaAsteByKeywordMessage"></div>
			<div id="listaAsteByKeyword" hidden>
				<h3>Aste relativa alla parola chiave selezionata</h3>
				<table border="1">
					<thead>
						<tr>
							<th>IdAsta</th>
							<th>Creatore</th>
							<th>Prezzo Iniziale</th>
							<th>Rialzo Minimo</th>
							<th>Data Scadenza</th>
							<th>Ora Scadenza</th>
							<th>Offerta Massima</th>
							<th>Articoli inclusi</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="bodyTabellaAsteByKeyword">
						<!-- qui vengono aggiunte tutte le aste legate a quella parola chiave, se -->					
					</tbody>
				</table>
				
				<template id="astaByKeywordRow">
					<tr>
						<!-- td con text = id asta -->
						<!-- td con text = creatore -->
						<!-- td con text = prezzo iniziale asta -->
						<!-- td con text = rialzo minimo asta -->
						<!-- td con text = data scadenza asta -->
						<!-- td con text = ora scadenza asta -->
						<!-- td con text = offerta massima asta -->
						<!-- <td> --> 
							<!-- <table> --> 
								<!-- <tr> --> 
									<!-- td con text = codice articolo -->
									<!-- td con text = nome articolo -->
								<!-- </tr> --> 
							<!-- </table> --> 
						<!-- </td> --> 
						<!-- <td><button class="dettaglioAstaApertaButton">Dettaglio asta</button></td> <!-- va aggiunto value = id asta -->	
					</tr>
				</template>
			</div>
			
			<div id="listaAsteVisionate" hidden>
				<h3>Aste viste in precedenza</h3>
				<table border="1">
					<thead>
						<tr>
							<th>IdAsta</th>
							<th>Creatore</th>
							<th>Prezzo Iniziale</th>
							<th>Rialzo Minimo</th>
							<th>Data Scadenza</th>
							<th>Ora Scadenza</th>
							<th>Offerta Massima</th>
							<th>Articoli inclusi</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="bodyTabellaAsteByKeyword">
						<!-- qui vengono aggiunte tutte le aste legate a quella parola chiave, se -->					
					</tbody>
				</table>
				
				<template id="astaByKeywordRow">
					<tr>
						<!-- td con text = id asta -->
						<!-- td con text = creatore -->
						<!-- td con text = prezzo iniziale asta -->
						<!-- td con text = rialzo minimo asta -->
						<!-- td con text = data scadenza asta -->
						<!-- td con text = ora scadenza asta -->
						<!-- td con text = offerta massima asta -->
						<!-- <td> --> 
							<!-- <table> --> 
								<!-- <tr> --> 
									<!-- td con text = codice articolo -->
									<!-- td con text = nome articolo -->
								<!-- </tr> --> 
							<!-- </table> --> 
						<!-- </td> --> 
						<!-- <td><button class="dettaglioAstaApertaButton">Dettaglio asta</button></td> <!-- va aggiunto value = id asta -->	
					</tr>
				</template>
			</div>
		</div>

		<div id="dettaglioAstaPage" hidden>

			<h1>Dettaglio Asta</h1>
			<div id="astaAperta" hidden>
				<h2>Asta Aperta</h2>
				<p>Creatore Asta:<span id="creatore"></span></p>
				<p>Prezzo Iniziale:<span id="prezzo"></span></p>
				<p>Rialzo Minimo:<span id="rialzo"></span></p>
				<p>Data Scadenza:<span id="dataScadenza"></span></p>
				<p>Ora Scadenza:<span id="oraScadenza"></span></p>

				<div id="canBeClosed" hidden>
					<button type="submit" style="color:red;">Chiudi l'asta</button>
				</div>

				<h2>Offerte ricevute per l'asta : </h2>
				<table border="1">
					<thead>
						<tr>
							<th>Utente</th>
							<th>Prezzo</th>
							<th>Data</th>
							<th>Ora</th>
						</tr>
					</thead>
					<tbody id="listaOfferte">
					</tbody>
				</table>
			</div>

			<div id="astaChiusa" hidden>
				<h2>Asta Chiusa</h2>
				<p>Creatore Asta:<span id="creatore"></span></p>
				<p>Prezzo Iniziale:<span id="prezzoIniziale"></span></p>
				<p>Rialzo Minimo:<span id="rialzoMinimo"></span></p>
				<p>Data Scadenza:<span id="dataScadenza"></span></p>
				<p>Ora Scadenza:<span id="oraScadenza"></span></p><br>
				<p>Prezzo finale: <span id="prezzo"></span></p>
				<p>Acquirente: <span id="nomeAcquirente"></span></p>
				<p>Indirizzo di consegna:<span id="indirizzo"></span></p>
			</div>

		</div>

		<div id="offertaPage" hidden>
			<h1>Articoli presenti nell' asta</h1>
			<table border="1">
				<thead>
					<tr>
						<th>Codice</th>
						<th>Venditore</th>
						<th>Nome Articolo</th>
						<th>Descrizione</th>
						<th>Prezzo</th>
					</tr>
				</thead>
				<tbody id="articoliAsta">
				</tbody>
			</table>
			<br><br>

        <h1>Offerte per l'asta</h1>
        <table border="1">
			<thead>
				<tr>
					<th>Utente</th>
					<th>Prezzo</th>
					<th>Data</th>
					<th>Ora</th>
				</tr>
			</thead>
			<tbody id="listaOfferte">
			</tbody>
        </table>
        <br><br>
        <h1>Fai un'offerta</h1>
        <div hidden>Inserisci un'offerta valido ! </div>
       
        <h3>Rialzo minimo:</h3>
        <p id="rialzoMinimo"></p><br>
        <div id="formFaiOfferta">
            <label for="prezzo">Prezzo:</label>
            <input type="number" id="prezzo" name="prezzo" step="any" required/><br><br>
            <button id="submitNewOfferta">Inserisci Nuova Offerta</button>
			</div>
        </div>

	</body>
</html>
