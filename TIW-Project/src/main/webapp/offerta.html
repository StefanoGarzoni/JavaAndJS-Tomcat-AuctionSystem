<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">
        <title>Offerte</title>
    </head>
    <body>
    	<div>
		<a href="/TIW-Project/logout">Logout</a>
	</div>	
    	<div>
			<a href="/TIW-Project/acquisto">&lt;&lt; Torna alle aste</a>
		</div>
        <h1>Articoli presenti nell' asta</h1>
        <table border="1">
            <tr>
                <th>Codice</th>
                <th>Venditore</th>
                <th>Nome Articolo</th>
                <th>Descrizione</th>
                <th>Prezzo</th>
            </tr>
            <tr th:each="articolo : ${articoli}">
                <td th:text="${articolo.cod}"></td>
                <td th:text="${articolo.venditore}"></td>
                <td th:text="${articolo.nomeArticolo}"></td>
                <td th:text="${articolo.descrizione}"></td>
                <td th:text="${articolo.prezzo}"></td>
                <!-- NOTA: 
                thymeleaf accede direttamente all'attributo del beans usando i getters -->
            </tr>
        </table>
        <br><br>
        <h1>Offerte per l'asta</h1>
        <table border="1">
            <tr>
                <th>Utente</th>
                <th>Prezzo</th>
                <th>Data</th>
                <th>Ora</th>
            </tr>
            <tr th:each="offerta : ${offerte}">
                <td th:text="${offerta.utente}"></td>
                <td th:text="${offerta.prezzo}"></td>
                <td th:text="${offerta.dataOfferta}"></td>
                <td th:text="${offerta.oraOfferta}"></td>
            </tr>
        </table>
        <br><br>
        <h1>Fai un'offerta</h1>
        <!-- #ctx.containsVariable('PriceTooLow') -->
        <div th:if="${#ctx.containsVariable('PriceTooLow')}">Inserisci un'offerta valido ! </div>
        <form th:action="@{/offertaAdd}" method="post">
            <label for="prezzo">Prezzo:</label>
            <input type="number" id="prezzo" name="prezzo" required/><br><br>
            <input type="submit" value="Fai Offerta"/>
        </form>
        
    </body>
</html>