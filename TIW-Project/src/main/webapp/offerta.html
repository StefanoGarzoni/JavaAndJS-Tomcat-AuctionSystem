<html>

    <head>
        <meta charset="UTF-8">
        <title>Offerte</title>
    </head>
    <body>
        <h1>Articoli presenti nell' asta</h1>
        <table border="1">
            <tr>
                <th>Codice</th>
                <th>Venditore</th>
                <th>Nome Articolo</th>
                <th>Descrizione</th>
                <th>Immagine</th>
                <th>Prezzo</th>
            </tr>
            <tr th:each="articolo : ${articoli}">
                <td th:text="${articolo.cod}"></td>
                <td th:text="${articolo.venditore}"></td>
                <td th:text="${articolo.nomeArticolo}"></td>
                <td th:text="${articolo.descrizione}"></td>
                <td th:text="${articolo.prezzo}"></td>
                <!-- NOTA: 
                thymeleaf accede direttamente all'attributo del beans usando i getters -->
            </tr>
        </table>
        <br><br>
        <h1>Offerte per l'asta</h1>
        <table border="1">
            <tr>
                <th>Utente</th>
                <th>Prezzo</th>
                <th>Data</th>
                <th>Ora</th>
            </tr>
            <tr th:each="offerta : ${offerte}">
                <td th:text="${offerta.utente}"></td>
                <td th:text="${offerta.prezzo}"></td>
                <td th:text="${offerta.data}"></td>
                <td th:text="${offerta.ora}"></td>
            </tr>
        </table>
        <br><br>
        <h1>Fai un'offerta</h1>
        <!--action="#" aggiungere se vogliamo che di default (es. la pagina Ã¨ processata come pura html)
         la pagina non invii i dati a se stessa in post ma a "#"-->
        <form th:action="@{/offertaAdd}" method="post">
            <!-- idAsta e username vanno scaricati dalla sessione direttamente nella servlet 
            altrimenti con i campi hidden ci incula a manetta-->
            <!--Forse un controllo anche qua (praticamente quasi inutile) sul prezzo minimo da inserire andremme messo?-->
            <label for="prezzo">Prezzo:</label>
            <input type="number" id="prezzo" name="prezzo" required/><br><br>
            <input type="submit" value="Fai Offerta"/>
            <!--Errore nella esecuzione delle query di aggiornamento-->
            <!--TODO ??-->
        </form>
    </body>
</html>